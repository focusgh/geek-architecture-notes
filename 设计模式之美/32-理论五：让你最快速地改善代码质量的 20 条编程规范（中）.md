[toc]

## 32 | 理论五：让你最快速地改善代码质量的 20 条编程规范（中）

###代码风格

-   最重要的，是在团队、项目中保持风格统一，让代码像同一个人写出来的，整齐划一。

#### 1. 类、函数多大才合适？

-   网上一种说法，那就是不超过一个显示屏的垂直高度。
-   在 15 讲中也给出一个间接标准，那就是，当一个类的代码读起来让你感觉头大，实现某个功能时，不知道该用哪个函数了，想用哪个函数翻半天都找不到，只用到一个小功能要引入整个类的时候，说明类的行数过多了。

#### 2. 一行代码多长最合适？

-   原则：一行代码最长不能超过 IDE 显示的宽度。

#### 3. 善用空行分割单元块

-   在不便将独立的代码块抽取成小函数的情况下，为了让逻辑更加清晰，我们可以使用空行来分割各个代码块。
-   在类的成员变量、静态成员变量、普通成员变量间、各函数间，基于各成员变量间，都可以通过添加空格，让模块的代码之间，界限更加明确。

-   善于应用空行，可以让代码的整体结构看起来更加有清晰、有条理。

#### 4. 四格缩进还是两格缩进

-   项目内部统一
-   跟业内推荐的风格统一、跟著名开源项目统一。

#### 5. 大括号是否要另起一行？

-   跟团队统一、业内统一、跟开源项目看齐。

#### 6. 类中成员的排列顺序

-   在 Google 编码规范中，依赖类按照字母序从小到大排列。
-   在类中，成员变量排在函数的前面。成员变量之间或函数之间，都是按照“先静态（静态函数或静态成员变量）、后普通（非静态函数或非静态成员变量）”的方式来排列。
-   此外，成员变量之间或函数之间，还会按照作用域范围从大到小顺序来排列，先写 public 成员变量或函数，然后是 protected 的，最后是 private 的。

### 重点回顾

-   