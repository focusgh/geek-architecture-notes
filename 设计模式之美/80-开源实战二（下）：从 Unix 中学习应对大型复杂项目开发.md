[toc]

## 80 | 开源实战二（下）：从 Unix 开源开发学习应对大型复杂项目开发

-   今天，我们讲一讲为什么要进行 Code Review，Code Review 的价值在哪里。

### 我为什么如此强调 Code Review?

#### 1. Code Review 践行“三人行必有我师”

-   即便自己觉得写得已经很好的代码，只要经过不停地推敲，都有持续改进的空间。

#### 2. Code Review 能摒弃“个人英雄主义”

-   所有的架构设计、实现，都应该是一个团队的产出。应该是整个团队共同智慧的结晶。

#### 3. Code Review 能有效提高代码可读性

-   代码的可读性比任何其他方面（如扩展性等）都重要。
-   Code Review 能有效地解决“当局者迷”的问题。

#### 4. Code Review 是技术传帮带的有效途径

-   每次 Code Review 都是一次真实案例的讲解。
-   通过 Code Review，在实践中将技术传递给初级工程师，比他们自己学习、摸索来得更高效。

#### 5. Code Review 保证代码不止一个人熟悉

-   Code Review 能保证任何代码同时都至少有两个同事熟悉、互为备份、有备无患。

#### 6. Code Review 能打造良好的技术氛围

-   Code Review 还能增进技术交流，活跃技术氛围，培养大家的极客精神，以及对代码质量的追求。
-   好的技术氛围也能降低团队的离职率。

#### 7. Code Review 是一种技术沟通方式

-   对于不同办公室、跨时区的沟通，Code Review 是一种很好的沟通方式。

#### 8. Code Review 能提高团队的自律性

-   Code Review 相当于一次代码直播，曝光 Dirty code，有一定威慑力。

### 如何在团队中落地执行 Code Review?

1.  有人认为，Code Review 流程太长，太浪费时间，特别工期紧的时候，今天改的代码明天就要上，如果要等同事 Review，同事有可能没时间，这样就来不及。这时，该怎么办？
    -   关键还是在于整个公司对 Code Review 的接受程度。
    -   Code Review 熟练后，并不需要花费太长时间。
2.  有人认为，业务一直在变，今天写的代码明天可能就要再改，代码可能不会长期维护，写得太好也没用。这种情况是不是就不需要 Code Review 了呢？
    -   如果确实面对的还只是生存问题，代码质量确实不是首要的，特殊情况下，不做 Code Review 是支持的。
    -   先让资深同事、技术好的同事或技术 Leader，来 Review 其他所有人的代码。Review 的过程本身就是一种“传帮带”的过程。慢慢地，整个团队就知道该如何 Review 了。
3.  还有人说，刚开始 Code Review 的时候，大家都还挻认真，但时间长了，大家觉得这事跟 KPI 无关、浪费时间。慢慢地，Code Review 就变得流于形式了。这种情况该如何应付？
    -   首先，要明确 Code Review 的重要性，要严格执行，让大家都不要懈怠。
    -   其次，可以像 Google 一样，将 Code Review 间接地跟 KPI、升职等联系在一块。
    -   再次，想办法活跃团队的技术氛围，把 Code Review 作为一种展示自己技术的机会，带动起大家对 Code Review 的积极性，提高大家对 Code Review 的认同感。

### 重点回顾

1.  今天，我们主要讲了为什么要做 Code Review，Code Review 的价值在哪里。
2.  我的总结如下：
    -   Code Review 践行“三人行必有我师”
    -   能摒弃“个人英雄主义”
    -   能有效提高代码可读性
    -   是技术传帮带的有效途径
    -   能保证代码不止一个人熟悉
    -   能打造良好的技术氛围
    -   是一种技术沟通方式
    -   能提高团队的自律性



