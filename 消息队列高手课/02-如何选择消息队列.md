[toc]

## 02 | 该如何选择消息队列？

1.  在软件工程中，“没有银弹”。

### 选择消息队列产品的基本标准

1.  **开源产品**
2.  **比较流行且社区活跃**
3.  必须具备的几个特性：
    -   **消息可靠传递**
    -   **支持集群**
    -   **性能足够好**

### 可供选择的消息队列产品

#### RabbitMQ

1.  优点：
    -   轻量级、迅捷。“开箱即用”
2.  缺点
    -   对消息堆积支持并不好。
    -   在这几个队列中，性能最差
    -   开发语言小众

#### RocketMQ

1.  优点
    -   性能、稳定性和可靠性都值得依赖。
    -   **中文社区活跃**
    -   **Java 语言开发**。
    -   **性能很高**，每秒大概能处理 几十万条消息。

2.  劣势
    -   与周边生态的集成和兼容程序要略逊一筹。

#### Kafka

1.  最初设计目的：**处理海量日志**。
2.  优点
    -   **超高性能**
    -   **兼容性最好**
3.  劣势
    -   “**先攒一波再一起处理**”的设计，时延比较高。
    -   **Kafka 不太适合在线业务场景**。

### 第二梯队的消息队列

1.  ActiveMQ
2.  ZeroMQ
3.  Pulsar
    -   **采用存储和计算分离的设计**。

### 小结

1.  如果，消息队列并不是系统的主角之一，且**对功能和性能没有很高的要求**，建议使用 RabbitMQ。
2.  如果，使用场景是**处理在线业务**，那 RocketMQ 的低延迟和金融级的稳定性是你需要的。
3.  如果，要**处理海量的消息**，或是**使用了大数据、流计算相关的开源产品**，那 Kafka 最适合你。